Phase 7A: The Standalone Linux Agent
Role: Systems Programmer & Linux Security Researcher

Target Path: /home/ransomeye/rebuild/edge/ransomeye_agent/


Goal: Build the self-contained Linux Agent binary capable of process monitoring, file integrity checking, and network deception.

1. ğŸ›‘ HARD CONSTRAINTS (MUST OBEY)

Standalone Architecture: The Linux build must include its own standalone installer and systemd unit files.



Port Registry: Honeyport listener defaults to 8080. If 8080 is occupied, it must fail-over to 8088.





Security: Verify Ed25519 signatures for all incoming CommandRequest packets against the Core Public Key.



Linux Specifics: Utilize libc for signal handling (SIGTERM) and iptables for network isolation.


2. ğŸ“‚ DIRECTORY STRUCTURE
Plaintext

edge/ransomeye_agent/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs                 # Event Loop & Signal Handling
â”‚   â”œâ”€â”€ telemetry/
â”‚   â”‚   â”œâ”€â”€ process_linux.rs    # /proc/ filesystem polling
â”‚   â”‚   â””â”€â”€ file_mon.rs         # Inotify-based file watching
â”‚   â”œâ”€â”€ deception/
â”‚   â”‚   â”œâ”€â”€ honeyport.rs        # TCP Listener (8080)
â”‚   â”‚   â””â”€â”€ honeyfile.rs        # Fake sensitive files
â”‚   â””â”€â”€ command_exec_linux.rs   # iptables & process kill logic
â”œâ”€â”€ installer/
â”‚   â”œâ”€â”€ install_linux.sh        # Standalone Bash Installer
â”‚   â””â”€â”€ uninstall_linux.sh      # Clean removal script
â””â”€â”€ systemd/
    â””â”€â”€ ransomeye-agent.service # Linux Service Unit
3. âš™ï¸ IMPLEMENTATION DETAILS

Deception Engine: The honeyport.rs module opens a raw TCP socket. If any IP connects, it emits an IMMEDIATE_ALERT to the Bus.



Isolation Logic: When a CommandRequest::Isolate is received and verified, the agent executes iptables -A OUTPUT -p tcp --dport 8000 -j ACCEPT followed by iptables -P OUTPUT DROP to lock down the host while maintaining the management link.


Installer: The install_linux.sh must detect the init system (Systemd), copy the binary to /opt/ransomeye/bin, and establish the persistence link.